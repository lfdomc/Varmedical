(function(g){var window=this;'use strict';var cS7=function(R,F){if(!Number.isFinite(R))return String(R);R=String(R);var h=R.indexOf(".");h===-1&&(h=R.length);var a=R[0]==="-"?"-":"";a&&(R=R.substring(1));return a+(0,g.W2v)("0",Math.max(0,F-h))+R},WGG=function(){return{G:"svg",
j:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},V:[{G:"path",j:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},R44=function(){return{G:"svg",
j:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},V:[{G:"path",j:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},h4L=function(R){typeof R==="number"?(this.date=Ftk(R,0,1),A8(this,1)):g.M4(R)?(this.date=Ftk(R.getFullYear(),R.getMonth(),R.getDate()),A8(this,R.getDate())):(this.date=new Date(g.w7()),R=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),A8(this,R))},Ftk=function(R,F,h){F=new Date(R,F,h);
R>=0&&R<100&&F.setFullYear(F.getFullYear()-1900);return F},A8=function(R,F){R.getDate()!=F&&R.date.setUTCHours(R.date.getUTCHours()+(R.getDate()<F?1:-1))},xg=function(R,F){g.U4.call(this,R,{G:"div",
J:"ytp-reminder-menu",j:{role:"menu",tabindex:"-1"},V:[{G:"div",J:"ytp-reminder-menu-contents",V:[{G:"div",J:"ytp-reminder-menu-items"}]}]},100,!0);this.B=F;this.K=[];this.menuPopupRenderer=void 0;this.items=this.mI("ytp-reminder-menu-items");this.hide()},au6=function(R){return(R.menuPopupRenderer&&R.menuPopupRenderer.items||[]).reduce(function(F,h){h&&h.menuServiceItemRenderer&&F.push(h.menuServiceItemRenderer);
return F},[])},N2=function(R){g.D.call(this,{G:"div",
V:[{G:"button",sz:["ytp-offline-slate-button","ytp-button"],V:[{G:"div",J:"ytp-offline-slate-button-icon",Dn:"{{icon}}"},{G:"div",J:"ytp-offline-slate-button-text",Dn:"{{text}}"}]}]});this.U=R;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.D=void 0;this.L=this.B=null;(this.S=this.mI("ytp-offline-slate-button"))&&this.T(this.S,"click",this.Y);this.hide()},MCe=function(R,F,h){!R.toggleButtonRenderer&&F&&F.toggleButtonRenderer?R.toggleButtonRenderer=F.toggleButtonRenderer:
F&&F.toggleButtonRenderer||(R.toggleButtonRenderer=null);
!R.upcomingEventReminderButtonRenderer&&h&&g.t(h,JT9)?R.upcomingEventReminderButtonRenderer=g.t(h,JT9):h&&g.t(h,JT9)||(R.upcomingEventReminderButtonRenderer=null);Ho(R)},Ho=function(R){if(R.toggleButtonRenderer){var F=R.toggleButtonRenderer;
if(F.isToggled){var h=F.toggledText?g.iQ(F.toggledText):"";R.update({text:h,icon:vjv(F.toggledIcon)})}else h=F.defaultText?g.iQ(F.defaultText):"",R.update({text:h,icon:vjv(F.defaultIcon)});R.show()}else R.upcomingEventReminderButtonRenderer?(F=gjt(R))?(h=F.text?g.iQ(F.text):"",R.update({text:h,icon:vjv(F.icon)}),R.show()):R.hide():R.hide()},Iuu=function(R,F,h){R.L||(R.L=new g.tq(R.U.W().Vw));
var a={context:g.Gj(R.L.config_||g.vm())};g.Q7()&&(a.context.clientScreenNonce=g.Q7());a.params=h;g.ln(R.L,F,a,{timeout:5E3,onSuccess:function(){R.upcomingEventReminderButtonRenderer&&R.D&&(R.upcomingEventReminderButtonRenderer.currentState=R.D,R.D=void 0)},
onError:function(){GRu(R)},
onTimeout:function(){GRu(R)}})},GRu=function(R){R.toggleButtonRenderer?(R.toggleButtonRenderer.isToggled=!R.toggleButtonRenderer.isToggled,Ho(R)):R.upcomingEventReminderButtonRenderer&&(R.D=void 0,Ho(R))},vjv=function(R){if(!R)return null;
switch(R.iconType){case "NOTIFICATIONS":return WGG();case "NOTIFICATIONS_NONE":return R44();case "NOTIFICATIONS_ACTIVE":return g.Q2();default:return null}},gjt=function(R){if(!R.upcomingEventReminderButtonRenderer)return null;
var F=R.D||R.upcomingEventReminderButtonRenderer.currentState;R=g.N(R.upcomingEventReminderButtonRenderer.states||[]);for(var h=R.next();!h.done;h=R.next())if((h=g.t(h.value,ilG))&&h.state===F&&h.button&&g.t(h.button,g.Wq))return g.t(h.button,g.Wq);return null},wjU=function(R){g.D.call(this,{G:"div",
J:"ytp-offline-slate",V:[{G:"div",J:"ytp-offline-slate-background"},{G:"div",J:"ytp-offline-slate-bar",V:[{G:"span",J:"ytp-offline-slate-icon",V:[{G:"svg",j:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},V:[{G:"path",j:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{G:"circle",j:{cx:"12",cy:"12",r:"3"}}]}]},{G:"span",J:"ytp-offline-slate-messages",V:[{G:"div",J:"ytp-offline-slate-main-text",j:{"aria-label":"{{label}}"},Dn:"{{mainText}}"},{G:"div",J:"ytp-offline-slate-subtitle-text",Dn:"{{subtitleText}}"}]},{G:"span",J:"ytp-offline-slate-buttons"}]},{G:"button",sz:["ytp-offline-slate-close-button","ytp-button"],V:[g.rY()]},{G:"button",sz:["ytp-offline-slate-open-button","ytp-button"],V:[g.Bx()]}]});var F=this;this.api=R;this.B=this.D=null;this.background=this.mI("ytp-offline-slate-background");
this.K=this.mI("ytp-offline-slate-bar");this.S=new g.DY(function(){g.J$(F.K,"ytp-offline-slate-bar-fade")},15E3);
this.Y=!1;this.L=new g.DY(function(){g.J$(F.element,"ytp-offline-slate-collapsed")},15E3);
g.z(this,this.L);g.z(this,this.S);this.countdownTimer=new g.DY(this.lD,1E3,this);this.T(R,"presentingplayerstatechange",this.YK);this.T(R,"livestatedata",this.gA);this.T(this.mI("ytp-offline-slate-close-button"),"click",function(){g.J$(F.element,"ytp-offline-slate-collapsed")});
this.T(this.mI("ytp-offline-slate-open-button"),"click",function(){g.vs(F.element,"ytp-offline-slate-collapsed")});
this.hide();R=this.getVideoData();R.getPlayerResponse()&&(R=R.getPlayerResponse().playabilityStatus)&&this.gA(R);R=this.api.getPresentingPlayerType()===8&&!this.getVideoData().E0;var h=this.api.getPresentingPlayerType()===8;g.Gi(this.element,"ytp-offline-slate-premiere-trailer",R);g.Gi(this.element,"ytp-offline-slate-hide-background",h)},Ejh=function(R,F,h){if(F){var a=F.subtitleText!=null?g.iQ(F.subtitleText):"";
h=h?h:F.mainText!=null?g.iQ(F.mainText):"";var J,M,v,I;F=(I=(J=F.mainText)==null?void 0:(M=J.accessibility)==null?void 0:(v=M.accessibilityData)==null?void 0:v.label)!=null?I:h;R.update({mainText:h,subtitleText:a,label:F});g.Gi(R.element,"ytp-offline-slate-single-text-line",!a);g.Gi(R.K,"ytp-offline-slate-bar-hidden",!h&&!a)}},Ly=function(R,F){var h=(0,g.NU)();
this.trigger=R;this.B=F;this.K=h},kR4=function(R){g.Hb.call(this,R);
var F=this;this.Y=!1;this.Z=0;this.N=!1;this.D=new g.DY(function(){B46(F)},0);
this.B=this.heartbeatParams=null;this.L=!1;this.S=new g.bL(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.oR=new g.tq(void 0);this.attestationResponse=Promise.resolve(void 0);this.C=Promise.resolve(void 0);this.utcOffsetMinutes=-(new h4L).getTimezoneOffset();this.K=new g.xK(this);g.z(this,this.D);g.z(this,this.K);rTL(this);YIt(this);this.K.T(R,"heartbeatparams",this.WM);this.K.T(R,"presentingplayerstatechange",this.DU);this.K.T(R,"videoplayerreset",this.EV);this.K.T(R,g.lz("heartbeat"),
this.onCueRangeEnter);this.L&&this.B&&sTe(this,void 0,this.B);var h=new g.KI(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),a=new g.KI(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});R.eI([h,a]);pjh(this)},pjh=function(R){var F=R.getVideoData();
!F.X("use_rta_for_player")&&F.u1&&(F=F.botguardData)&&g.hd(F,R.player.W())},QTk=function(R){var F,h;
return g.u(function(a){if(a.D==1)return g.m(a,g.SPO(),2);if(!a.B)return R.sequenceNumber>=3?a.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):a.return(void 0);F=R.getVideoData();h={};return a.return(g.bdn((h.cpn=F.clientPlaybackNonce,h.encryptedVideoId=F.videoId||"",h),1500))})},rTL=function(R){var F=R.getVideoData();
if(F.u1)if(F.X("use_rta_for_player"))R.attestationResponse=QTk(R);else if(F=new g.Pt2(F),g.Wl.isInitialized()||R.sequenceNumber>=3){var h=Promise,a=h.resolve,J=null;if(F.videoData.fp){var M=g.zoB(F);if(M){J={};var v={};M=M.split("&");M=g.N(M);for(var I=M.next();!I.done;I=M.next())I=I.value.split("="),I.length===2&&(v[I[0]]=I[1]);v.r1a&&(J.webResponse=v.r1a);v.r1c&&(J.error=$hk[Number(v.r1c)]);J.challenge=F.videoData.fp}}R.attestationResponse=a.call(h,J||void 0)}},ATh=function(R){var F=R.getVideoData();
if(!g.SZ(R.getVideoData())||F.rD)return!1;if(F.N){R=F.N.flavor==="playready"&&F.X("html5_innertube_heartbeats_for_playready");var h=F.N.flavor==="widevine"&&F.X("html5_innertube_heartbeats_for_widevine");F=g.gp(F.N)&&F.X("html5_innertube_heartbeats_for_fairplay");return!(R||h||F)}return!0},xhe=function(R){if(ATh(R))return!!R.heartbeatParams;
var F=R.getVideoData();return!g.SZ(R.getVideoData())||F.eb||F.PW?!!F.heartbeatToken:!1},Th=function(R,F){if(!R.D.isActive()&&R.Y){var h=R.getVideoData();
if(xhe(R)||h.isLivePlayback){if(F===void 0)if(R.N)if(R.L)F=7500;else{var a;F=((a=R.heartbeatParams)==null?0:a.interval)?R.heartbeatParams.interval*1E3:R.getVideoData().yX||6E4}else F=1E3;R.D.start(F)}}},T47=function(R,F,h){F.tJ&&(h=g.sA(h,{internalipoverride:F.tJ}));
var a={cpn:F.clientPlaybackNonce};F.contextParams&&(a.context_params=F.contextParams);F.Ma&&(a.kpt=F.Ma);h=g.sA(h,a);g.x$(h,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(J){if(!R.D.isActive()&&yR(R)){R.S.reset();R.sequenceNumber++;J=J.responseText;var M=N4k(J);if(M){R.player.WG("onHeartbeat",M);var v=M.status==="ok"?M.stop_heartbeat?2:0:M.status==="stop"?1:M.status==="live_stream_offline"?0:-1}else v=(v=J.match(Hlu))?v[1]==="0"?0:1:-1;Ltv(R,void 0,M,J,v)}},
onError:function(J){yR(R)&&q2(R,!0,"net-"+J.status)},
onTimeout:function(){yR(R)&&q2(R,!0,"timeout")},
withCredentials:!0})},B46=function(R){var F,h;
g.u(function(a){F=R.player.W();h=R.getVideoData();if(!yR(R))return a.return();if(ATh(R))return yT7(R,F,h),a.G$(0);rTL(R);return g.m(a,qIv(R,F,h),0)})},yT7=function(R,F,h){var a;
if((a=R.heartbeatParams)!=null&&a.url){var J=g.sA(R.heartbeatParams.url,{request_id:g.T1i()});h.fI&&(J=g.sA(J,{vvt:h.fI}),h.mdxEnvironment&&(J=g.sA(J,{mdx_environment:h.mdxEnvironment})));g.Qj(F,h.oauthToken).then(function(M){M&&(J=g.sA(J,{access_token:M}));T47(R,h,J)})}},yR=function(R){var F=R.getVideoData();
return R.player.getPresentingPlayerType()===3||g.V(R.player.getPlayerStateObject(R.getPlayerType()),4)?!1:xhe(R)||F.isLivePlayback?!0:(fy(R),!1)},qIv=function(R,F,h){var a,J,M,v,I,w,E,B,r,Y,p,k,H,T,Z,b,O,n,K,Rg;
return g.u(function(U){if(U.D==1)return a="player/heartbeat",M={videoId:h.videoId,sequenceNumber:R.sequenceNumber,heartbeatServerData:(J=R.aR)!=null?J:h.heartbeatServerData},R.C=R.attestationResponse,h.u1?g.m(U,R.C,3):U.G$(2);U.D!=2&&(M.attestationResponse=U.B);v=g.ru(h);w=(I=v.client)!=null?I:{};w.utcOffsetMinutes=R.utcOffsetMinutes;M.context=v;M.cpn=h.clientPlaybackNonce;if(E=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)w.timeZone=E;B={heartbeatChecks:[]};
if(r=h.getPlayerResponse())h.heartbeatToken&&(M.heartbeatToken=h.heartbeatToken),(Y=r.playabilityStatus)&&(p=Y.liveStreamability)&&p.liveStreamabilityRenderer&&B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");h.heartbeatToken&&B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.BW(F)&&(B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),k=fu7(R),H={},k!==null&&(H.clientPlayerPositionUtcMillis=k),Z=(T=R.player.LO())==null?void 0:g.Ow(T),O=((b=Z)==null?void 0:b.freePreviewWatchedDuration)||
0,O>0&&(H.freePreviewWatchedDuration={seconds:""+O}),B.unpluggedParams=H);M.heartbeatRequestParams=B;h.isLivePlayback?(n=fu7(R),n!==null&&(M.playbackState||(M.playbackState={}),M.playbackState.playbackPosition={utcTimeMillis:n})):F.X("enable_heartbeat_vod_playback_position")&&(K=jT4(R),K!==null&&(M.playbackState||(M.playbackState={}),M.playbackState.playbackPosition={streamTimeMillis:K}));R.player.publish("heartbeatRequest",M);Rg={timeout:3E4,onSuccess:function(vi){if(!R.D.isActive()&&yR(R)){var GI=
R.getVideoData(),gL=GI.u1&&R.C==null,Em;GI.u1=!((Em=vi.heartbeatAttestationConfig)==null||!Em.requiresAttestation)||gL;gL=vi.playabilityStatus;Em=JSON.stringify(gL)||"{}";vi.authenticationMismatch&&R.player.dA("authshear",{});var hf=-1;var qa=vi.playabilityStatus;qa&&(R.player.WG("onHeartbeat",qa),qa.status==="OK"?hf=vi.stopHeartbeat?2:0:qa.status==="UNPLAYABLE"?hf=1:qa.status==="LIVE_STREAM_OFFLINE"&&(hf=0));R.sequenceNumber&&hf===-1||R.S.reset();R.sequenceNumber++;vi.heartbeatServerData&&(R.aR=
vi.heartbeatServerData);GI.JJ=vi;(qa=vi.playerCueRangeSet)&&g.iR(GI,qa);vi.playerCueRanges&&vi.playerCueRanges.length>0&&(GI.cueRanges=vi.playerCueRanges);var m2,Ru;((m2=vi.progressBarConfig)==null?0:m2.progressBarStartPosition)&&((Ru=vi.progressBarConfig)==null?0:Ru.progressBarEndPosition)&&(GI.progressBarStartPosition=vi.progressBarConfig.progressBarStartPosition,GI.progressBarEndPosition=vi.progressBarConfig.progressBarEndPosition);GI.compositeLiveIngestionOffsetToken=vi.compositeLiveIngestionOffsetToken;
vi.compositeLiveStatusToken!==GI.compositeLiveStatusToken&&(GI.compositeLiveStatusToken=vi.compositeLiveStatusToken);GI.publish("dataupdated");Ltv(R,vi,gL,Em,hf)}},
onError:function(vi){yR(R)&&q2(R,!0,"net-"+vi.status)},
onTimeout:function(){yR(R)&&q2(R,!0,"timeout")}};
g.Qj(F,g.Wr(h)).then(function(vi){vi&&(Rg.X$="Bearer "+vi);g.ln(R.oR,a,M,Rg)});
g.Na(U)})},Ltv=function(R,F,h,a,J){J===-1?(h="decode "+g.yU(a,3),q2(R,!1,h)):J===2?(fy(R),R.N=!0):(R.Z=0,R.D.stop(),J===1?(R.N=!1,h&&h.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&R.player.tV(!0),J="pe."+(h==null?void 0:h.errorCode)+";ps."+(h==null?void 0:h.status),R.player.Aj("heartbeat.stop",2,R.pK(a),J),g.MU("heartbeatActionPlayerHalted",ZlG(h)),(F==null?0:F.videoTransitionEndpoint)&&h&&(F=F.videoTransitionEndpoint,(a=g.t(F,g.EG))&&blh(R,a,h,{itct:F==null?void 0:F.clickTrackingParams}))):(R.N=
!0,a=0,R.L&&h&&(a=sTe(R,F,h),R.player.publish("livestatedata",h)),a?Th(R,a):Th(R)))},sTe=function(R,F,h){var a=h.liveStreamability&&h.liveStreamability.liveStreamabilityRenderer,J=!(!a||!(a.switchStreamsImmediately||a.transitionTiming&&a.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
F=SIh(R,F,a);var M=R.getVideoData(),v=R.player.getPlayerStateObject(R.getPlayerType()),I=v.isPlaying()&&!g.uR(M)&&!R.player.isAtLiveHead(R.getPlayerType());if(M.W().Po()){var w,E=((w=R.player.He())==null?void 0:w.nO())||{};E.status=h.status||"";E.dvr=""+ +I;E["switch"]=""+ +J;E.ended=""+ +!(!a||!a.displayEndscreen);R.player.dA("heartbeat",E)}w=R.player.X("always_cache_redirect_endpoint");if(I&&!J&&!w)return F;E=a&&a.streamTransitionEndpoint&&g.t(a.streamTransitionEndpoint,g.EG);var B=a&&a.transitionTiming;
if(B==="STREAM_TRANSITION_TIMING_AT_STREAM_END")R.getVideoData().transitionEndpointAtEndOfStream=E;else if(w&&!E&&R.getVideoData().transitionEndpointAtEndOfStream)R.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!w&&E&&blh(R,E,h))return F;if(I&&!J&&w||w&&E&&(B==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||B==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&blh(R,E,h))return F;if(h.status.toUpperCase()==="OK"){J=a&&a.broadcastId;I=R.B&&R.B.liveStreamability&&R.B.liveStreamability.liveStreamabilityRenderer&&
R.B.liveStreamability.liveStreamabilityRenderer.broadcastId;w=J!==I&&J!=null;if(!g.X$(M)||w){var r={video_id:M.videoId};M.y$&&(r.is_live_destination="1");r.disable_watch_next=!0;r.raw_watch_next_response=M.getWatchNextResponse();r.autonav_state=M.autonavState;r.oauth_token=M.oauthToken;r.Nn=M.Nn;M.S&&(r.vss_credentials_token=M.S,r.vss_credentials_token_type=M.H4);M.fI&&(r.vvt=M.fI);a=void 0;g.X$(M)?w&&(a=new Ly("broadcastIdChanged",I+","+J),R.n1("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
h)):(J&&(a=new Ly("formatsReceived",""+J)),R.n1("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",h));R.player.loadVideoByPlayerVars(r,void 0,void 0,void 0,a);return F}R.player.ag("heartbeat",R.getPlayerType())}a&&a.displayEndscreen&&(R.offlineSlate?(R=R.offlineSlate,R.Y=!0,R.dW&&R.api.KN()):v.isBuffering()&&(M=((r=R.player.He())==null?void 0:r.nO())||{},R.player.dA("hbse",M,!0),R.player.KN(),R.player.WG("onLiveMediaEnded",h)));return F},SIh=function(R,
F,h){return R.player.X("web_player_use_heartbeat_poll_delay_ms")&&(R=Number(F==null?void 0:F.pollDelayMs))?R:(h=Number(h==null?void 0:h.pollDelayMs))?h:0},q2=function(R,F,h){if(!R.D.isActive()){R.D.stop();
R.Z++;var a=F?"heartbeat.net":"heartbeat.servererror";var J=R.getVideoData();if(J.KZ||F&&!g.SZ(R.getVideoData())&&!xhe(R)&&J.isLivePlayback)J=!1;else{var M,v;((v=R.heartbeatParams)==null?0:v.retries)?M=R.heartbeatParams.retries:M=J.VX||5;J=R.Z>=M}J?(g.MU("heartbeatActionPlayerHalted",F?{enforcedPolicyToHaltOnNetworkFailure:!0}:ZlG()),(F=R.getVideoData())&&F.isLivePlayback?R.player.Aj(a,1,"Se interrumpi\u00f3 la reproducci\u00f3n del video. Vuelve a intentarlo.",h):R.player.Aj(a,1,"Se produjo un error de licencia con este video.",
h)):(Th(R,R.S.getValue()),g.SR(R.S))}},ZlG=function(R){var F={enforcedPolicyToHaltOnNetworkFailure:!1};
R&&(F.serializedServerContext=R.additionalLoggingData);return F},fy=function(R){R.Z=0;
R.D.stop();R.N=!1;R.sequenceNumber=0},YIt=function(R){var F=R.getVideoData(),h=R.player.W();
if(F.isLivePlayback)if(g.Q9(h.N)){R.L=!0;R.Y=!0;if(!g.Y0(h)||g.BW(h))R.offlineSlate=new wjU(R.player),g.z(R,R.offlineSlate),g.Pn(R.player,R.offlineSlate.element,4);(F=F.getPlayerResponse())&&F.playabilityStatus&&(R.B=F.playabilityStatus);var a;((a=R.B)==null?void 0:a.status)!=="UNPLAYABLE"&&(R.B?(a=SIh(R,void 0,R.B.liveStreamability&&R.B.liveStreamability.liveStreamabilityRenderer))?Th(R,a):Th(R,7500):Th(R,1E3))}else R.player.Aj("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.x7(F.aR,"heartbeat")&&R.player.ag("heartbeat",R.getPlayerType())},blh=function(R,F,h,a){var J=F&&F.videoId;
return J?(R.player.VQ(J,Object.assign({},{autonav:"1"},a||{}),void 0,!0,!0,F,g.Wr(R.getVideoData())),R.n1("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",h),!0):!1},fu7=function(R){return(R=R.player.getProgressState(R.getPlayerType()).ingestionTime)&&isFinite(R)?""+Math.floor(R*1E3):null},jT4=function(R){return(R=R.player.getCurrentTime(R.getPlayerType()))&&isFinite(R)?""+Math.floor(R*1E3):null},N4k=function(R){try{var F=JSON.parse(R);
return F!=null?F:void 0}catch(h){}},OlU={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
OlU={ERAS:["a.C.","d.C."],ERANAMES:["antes de Cristo","despu\u00e9s de Cristo"],NARROWMONTHS:"EFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"EFMAMJJASOND".split(""),MONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),STANDALONEMONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),SHORTMONTHS:"ene feb mar abr may jun jul ago sept oct nov dic".split(" "),STANDALONESHORTMONTHS:"ene feb mar abr may jun jul ago sept oct nov dic".split(" "),
WEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom lun mar mi\u00e9 jue vie s\u00e1b".split(" "),STANDALONESHORTWEEKDAYS:"dom lun mar mi\u00e9 jue vie s\u00e1b".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1.\u00ba trimestre","2.\u00ba trimestre","3.\u00ba trimestre",
"4.\u00ba trimestre"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
var $hk=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],mhv={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.Q=h4L.prototype;g.Q.bA=OlU.FIRSTDAYOFWEEK;g.Q.IK=OlU.FIRSTWEEKCUTOFFDAY;
g.Q.clone=function(){var R=new h4L(this.date);R.bA=this.bA;R.IK=this.IK;return R};
g.Q.getFullYear=function(){return this.date.getFullYear()};
g.Q.getYear=function(){return this.getFullYear()};
g.Q.getMonth=function(){return this.date.getMonth()};
g.Q.getDate=function(){return this.date.getDate()};
g.Q.getTime=function(){return this.date.getTime()};
g.Q.getDay=function(){return this.date.getDay()};
g.Q.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.Q.getUTCMonth=function(){return this.date.getUTCMonth()};
g.Q.getUTCDate=function(){return this.date.getUTCDate()};
g.Q.getUTCDay=function(){return this.date.getDay()};
g.Q.getUTCHours=function(){return this.date.getUTCHours()};
g.Q.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.Q.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.Q.set=function(R){this.date=new Date(R.getFullYear(),R.getMonth(),R.getDate())};
g.Q.setFullYear=function(R){this.date.setFullYear(R)};
g.Q.setYear=function(R){this.setFullYear(R)};
g.Q.setMonth=function(R){this.date.setMonth(R)};
g.Q.setDate=function(R){this.date.setDate(R)};
g.Q.setTime=function(R){this.date.setTime(R)};
g.Q.setUTCFullYear=function(R){this.date.setUTCFullYear(R)};
g.Q.setUTCMonth=function(R){this.date.setUTCMonth(R)};
g.Q.setUTCDate=function(R){this.date.setUTCDate(R)};
g.Q.add=function(R){if(R.years||R.months){var F=this.getMonth()+R.months+R.years*12,h=this.getYear()+Math.floor(F/12);F%=12;F<0&&(F+=12);a:{switch(F){case 1:var a=h%4!=0||h%100==0&&h%400!=0?28:29;break a;case 5:case 8:case 10:case 3:a=30;break a}a=31}a=Math.min(a,this.getDate());this.setDate(1);this.setFullYear(h);this.setMonth(F);this.setDate(a)}R.days&&(h=this.getYear(),F=h>=0&&h<=99?-1900:0,R=new Date((new Date(h,this.getMonth(),this.getDate(),12)).getTime()+R.days*864E5),this.setDate(1),this.setFullYear(R.getFullYear()+
F),this.setMonth(R.getMonth()),this.setDate(R.getDate()),A8(this,R.getDate()))};
g.Q.equals=function(R){return!(!R||this.getYear()!=R.getYear()||this.getMonth()!=R.getMonth()||this.getDate()!=R.getDate())};
g.Q.toString=function(){var R=this.getFullYear(),F=R<0?"-":R>=1E4?"+":"";return[F+cS7(Math.abs(R),F?6:4),cS7(this.getMonth()+1,2),cS7(this.getDate(),2)].join("")+""};
g.Q.valueOf=function(){return this.date.valueOf()};var ojv=new g.Ng("addUpcomingEventReminderEndpoint");var Xj9=new g.Ng("removeUpcomingEventReminderEndpoint");var e4v=new g.Ng("updateUpcomingEventReminderButtonStateCommand");var JT9=new g.Ng("upcomingEventReminderButtonRenderer"),ilG=new g.Ng("upcomingEventReminderButtonStateRenderer");g.A(xg,g.U4);
xg.prototype.updateMenuItems=function(){var R=this,F=au6(this),h=0;h=0;for(var a={};h<F.length;a={dw:void 0},h++){var J=this.K[h];J||(J=new g.D({G:"div",J:"ytp-reminder-menu-item",j:{role:"menuitem",tabindex:"0"},V:[{G:"div",J:"ytp-reminder-menu-item-icon",Dn:"{{icon}}"},{G:"div",J:"ytp-reminder-menu-item-label",Dn:"{{text}}"}]}),a.dw=h,J.listen("click",function(v){return function(){var I=v.dw;R.Nt();I=au6(R)[I];R.publish("reminderMenuItemClicked",I.serviceEndpoint||I.command)}}(a)),J.Ab(this.items),
this.K[h]=J);
var M=F[h];a=null;switch(M.icon&&M.icon.iconType){case "NOTIFICATIONS":a=WGG();break;case "NOTIFICATIONS_NONE":a=R44();break;case "NOTIFICATIONS_ACTIVE":a=g.Q2()}M=M.text?g.iQ(M.text):"";J.update({icon:a,text:M})}for(;h<this.K.length;)this.K.pop().dispose();h===0?this.Nt():this.Tn(this.B)};
xg.prototype.hide=function(){this.B&&this.B.removeAttribute("aria-haspopup");g.U4.prototype.hide.call(this)};
xg.prototype.show=function(){this.B&&this.B.setAttribute("aria-haspopup","true");g.U4.prototype.show.call(this)};
xg.prototype.Ez=function(){g.hT(this.K);g.U4.prototype.Ez.call(this)};g.A(N2,g.D);
N2.prototype.Y=function(){if(this.toggleButtonRenderer){var R=this.toggleButtonRenderer;R.isToggled?this.K(R.toggledServiceEndpoint):this.K(R.defaultServiceEndpoint);R.isToggled=!R.isToggled;Ho(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.B&&this.B.dW)this.B.Nt();else{var F=gjt(this);F&&this.K(F.serviceEndpoint||F.command);F=((R=g.t(F==null?void 0:F.command,g.Ex))==null?void 0:R.commands)||[];a:{R=g.N(F);for(var h=R.next();!h.done;h=R.next()){var a=F=void 0;if(h=(F=g.t(h.value,g.gN7))==
null?void 0:(a=F.popup)==null?void 0:a.menuPopupRenderer){R=h;break a}}R=void 0}this.B||(this.B=new xg(this.U,this.S),this.B.Ab(this.element),g.z(this,this.B),this.B.subscribe("reminderMenuItemClicked",this.K,this));F=this.B;F.menuPopupRenderer=R;F.updateMenuItems()}};
N2.prototype.K=function(R){var F=g.t(R,ojv),h=g.t(R,Xj9);if(R&&(F||h)){if(F){var a=F;var J="notification/add_upcoming_event_reminder"}else h&&(a=h,J="notification/remove_upcoming_event_reminder");if(J&&a&&a.params)for(Iuu(this,J,a.params),R=g.N(a.commands||[]),F=R.next();!F.done;F=R.next())if((F=F.value)&&g.t(F,e4v)){this.D=g.t(F,e4v).state;Ho(this);break}}};g.A(wjU,g.D);g.Q=wjU.prototype;g.Q.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.Q.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.Q.gA=function(R){var F,h,a=R==null?void 0:(F=R.liveStreamability)==null?void 0:(h=F.liveStreamabilityRenderer)==null?void 0:h.offlineSlate;if(a){this.D=R;F=a.liveStreamOfflineSlateRenderer;F.canShowCountdown?this.lD():Ejh(this,F);var J,M,v,I;if(h=R==null?void 0:(J=R.liveStreamability)==null?void 0:(M=J.liveStreamabilityRenderer)==null?void 0:(v=M.offlineSlate)==null?void 0:(I=v.liveStreamOfflineSlateRenderer)==null?void 0:I.thumbnail){J=0;M=null;v=h.thumbnails;for(I=0;I<v.length;I++)v[I].width>
J&&(J=v[I].width||0,M=v[I].url);M&&(this.background.style.backgroundImage="url("+M+")")}else this.background.style.backgroundImage="";F.actionButtons||F.reminderButton?(this.B||(this.B=new N2(this.api),this.B.Ab(this.mI("ytp-offline-slate-buttons")),g.z(this,this.B)),MCe(this.B,F.actionButtons&&F.actionButtons[0],F.reminderButton)):this.B&&MCe(this.B,null,null);this.D=R}else this.D=null;this.YK()};
g.Q.YK=function(R){if(this.api.getPresentingPlayerType()===8)var F=!0;else{var h=this.api.getPlayerStateObject(),a=this.getVideoData();F=a.isLivePlayback&&(h.isBuffering()||g.V(h,2)||g.V(h,64));var J=a.autonavState===2&&g.V(h,2);h=h.isPlaying()&&!g.uR(a)&&!this.api.isAtLiveHead(void 0,!0);F=F&&!h&&!J}F&&this.D?this.dW?(R==null?0:g.i5(R,2))&&!this.getVideoData().E0&&(g.vs(this.element,"ytp-offline-slate-collapsed"),this.L.stop(),g.vs(this.K,"ytp-offline-slate-bar-fade"),this.S.start()):(this.show(),
this.L.start(),this.api.publish("offlineslatestatechange"),this.Y&&this.api.KN()):this.dW&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.Q.lD=function(){var R,F,h,a,J=(R=this.D)==null?void 0:(F=R.liveStreamability)==null?void 0:(h=F.liveStreamabilityRenderer)==null?void 0:(a=h.offlineSlate)==null?void 0:a.liveStreamOfflineSlateRenderer;J&&(R=Math.floor(g.w7()/1E3),F=J.canShowCountdown&&Number(J.scheduledStartTime),!F||F<=R?(Ejh(this,J),this.countdownTimer.stop()):(Ejh(this,J,g.Q6(F-R)),g.VI(this.countdownTimer)))};
g.Q.Ez=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.D.prototype.Ez.call(this)};Ly.prototype.D=function(R){return this.trigger&&R.trigger?this.trigger===R.trigger&&this.B===R.B:!1};
Ly.prototype.isExpired=function(){return(0,g.NU)()-this.K>6E4};
Ly.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.B};g.A(kR4,g.Hb);g.Q=kR4.prototype;g.Q.Ez=function(){fy(this);this.player.NH("heartbeat");g.Hb.prototype.Ez.call(this)};
g.Q.onCueRangeEnter=function(){this.Y=!0;Th(this,2E3)};
g.Q.WM=function(R){this.heartbeatParams=R;Th(this,2E3)};
g.Q.DU=function(R){var F;this.player.getPresentingPlayerType()!==8&&((F=this.B)==null?void 0:F.status)!=="UNPLAYABLE"&&(g.V(R.state,2)||g.V(R.state,64)?(fy(this),this.L&&(this.Y=!0,Th(this,1E3))):(g.V(R.state,1)||g.V(R.state,8))&&Th(this,2E3))};
g.Q.EV=function(){this.player.getPresentingPlayerType()!==3&&Th(this,2E3)};
g.Q.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.Q.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.Q.t5=function(R){switch(R){case 4:case 3:return!1}return!0};
g.Q.n1=function(R,F,h){R={trigger:R,reason:F};h&&(R.serializedServerContext=h.additionalLoggingData);g.MU("heartbeatActionPlayerTransitioned",R)};
g.Q.pK=function(R){var F="LICENSE",h=N4k(R);if(h)return h.reason||g.Ks[F]||"";if(R=R.match(Hlu))if(R=Number(R[1]))F=(F=mhv[R.toString()])?F:"LICENSE";return g.Ks[F]||""};
g.Q.Ph=function(){return!!this.offlineSlate&&this.offlineSlate.dW};
var Hlu=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.NO("heartbeat",kR4);})(_yt_player);
